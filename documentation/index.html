
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://okovision.dronek.com/documentation/">
      
      
      
        <link rel="next" href="api/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.2">
    
    
      
        <title>Documentations - OkoVision</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f56500e0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Segoe+UI:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Segoe UI";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentations" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="OkoVision" class="md-header__button md-logo" aria-label="OkoVision" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OkoVision
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Documentations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OkoVision" class="md-nav__button md-logo" aria-label="OkoVision" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OkoVision
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1" type="checkbox" id="__nav_1_1" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_1">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_1">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="installation/linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="installation/synology/" class="md-nav__link">
        Synology
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/login/" class="md-nav__link">
        Accès espace sécurisé
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/season/" class="md-nav__link">
        Création des saisons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/manage-graphics/" class="md-nav__link">
        Création / Gestion des graphiques journaliers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/synthese/" class="md-nav__link">
        Synthèse journalière
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/info-generale/" class="md-nav__link">
        Informations générales
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/update-matrix/" class="md-nav__link">
        Gestion de la Matrice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/livebox/" class="md-nav__link">
        Ouverture de sa Livebox orange
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/rt/" class="md-nav__link">
        Temps Réel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="configuration/update/" class="md-nav__link">
        Mise à jour Okovision
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="api/" class="md-nav__link">
        API - Interface de communication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compatiblites" class="md-nav__link">
    Compatiblités
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-mot-de-lauteur" class="md-nav__link">
    Le mot de l'auteur
  </a>
  
    <nav class="md-nav" aria-label="Le mot de l'auteur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qui-suis-je" class="md-nav__link">
    Qui suis je ?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histoire-okovision" class="md-nav__link">
    Histoire Okovision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-bilan" class="md-nav__link">
    Le Bilan
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pourquoi-il-ny-aura-jamais-dokovision-v2-compatile-firmware-v4" class="md-nav__link">
    Pourquoi il n'y aura jamais d'okovision V2 compatile Firmware v4
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="documentations">Documentations<a class="headerlink" href="#documentations" title="Permanent link">#</a></h1>
<h2 id="compatiblites">Compatiblités<a class="headerlink" href="#compatiblites" title="Permanent link">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important<p>Okovision est compatible uniquement avec le Firmware Oekofen et Paradigma V2 et V3.</p>
</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning<p><a href="./#pourquoi-pas-dokovision-v2-compatile-firmware-v4">Okovision n'est plus developpé</a>. Aucune compatibilité avec le Firmware V4 n'est possible </p>
</p>
</div>
<h2 id="le-mot-de-lauteur">Le mot de l'auteur<a class="headerlink" href="#le-mot-de-lauteur" title="Permanent link">#</a></h2>
<h3 id="qui-suis-je">Qui suis je ?<a class="headerlink" href="#qui-suis-je" title="Permanent link">#</a></h3>
<p>Je suis un heureux possesseur d'une Oekofen Pellomatic.</p>
<h3 id="histoire-okovision">Histoire Okovision<a class="headerlink" href="#histoire-okovision" title="Permanent link">#</a></h3>
<p>La chaudière en était capable, je l'ai immediatement relié à mon réseau domestique. J'ai ainsi pu commencer à explorer tout ce que je pouvais faire avec. Dans un premier temps, afin de mieux me permettre de régler tous les paramètres de la chaudière et de mesurer leurs impacts sur les courbes, la gestion de la puissance, etc, j'ai écris des macro excel pour traiter les CSV. </p>
<p>Très vite, il me fallait quelque chose d'automatisé et qui allait me demander quasi aucune intervention. </p>
<p>Je me suis donc lancé dans le developpement d'une application de type "Web" (backend : PHP, et frontend : Boostrap + Jquery)</p>
<p>J'ai passé de nombreuses heures à developper <code>okovision</code> pour mes besoins personnels. Le systeme d'okovision était, avant les Version V4, assez simple. J'ai pu ainsi developper une interface graphique pour mettre en forme toutes les données produites par la chaudière via les exports CSV, mais aussi de pouvoir lui envoyer des commandes de configuration permettant ainsi d'historiser les configurations pour la régler aux petits oignons (je suis assez fière de cette fonctionnalité 😎)
Après de nombreux echanges avec des utilisateurs via des forums, j'ai rajouté des fonctionnalités diverses pour repondre à leurs besoins (comme l'apprentissage de chaque configuration via une matrice de correspondance)</p>
<h3 id="le-bilan">Le Bilan<a class="headerlink" href="#le-bilan" title="Permanent link">#</a></h3>
<p><code>Okovision</code> a été un bon Use Case.</p>
<p>J'ai été au debut de ma vie professionnel developpeur, mais ce n'est plus mon metier principale.</p>
<ul>
<li>Le PHP m'a permis de mettre en place facilement quelque chose<ul>
<li>meme avec tous les defauts que ce langage peut avoir.</li>
<li>Mon code devait pouvoir etre hébergé sur des hébergeurs grand public (1and1, ovh, etc), PHP etait le language le plus repandu.</li>
</ul>
</li>
<li>Le code n'est basé sur aucun framework. C'était un choix car je voulais que cela soit simple et légé a installé sans avoir de connaissance particulière<ul>
<li>Ceci dit, nous avons atteint les limites de l'exercice, car si je veux encore l'améliorer, il me faudra passer par un framework</li>
</ul>
</li>
<li>Avec le recul, la structure du code n'est pas optimale. Ceci est vrai pour tout code que l'on produit, on peut toujours faire mieux 😉</li>
<li>il reste encores quelques petites fonctionnalités à mettre en place (comme la purge des données journalière pour allerger la base de donnée)</li>
<li>Maintenir un code qui doit toujours marcher n'est pas simple, car les versions php, mariadb, et autre evoluent, il faut toujours mettre à jour afin que les nouveaux utilisateurs puissent en profiter. Cela demande du temps, beaucoup de temps</li>
</ul>
<h2 id="pourquoi-il-ny-aura-jamais-dokovision-v2-compatile-firmware-v4">Pourquoi il n'y aura jamais d'okovision V2 compatile Firmware v4<a class="headerlink" href="#pourquoi-il-ny-aura-jamais-dokovision-v2-compatile-firmware-v4" title="Permanent link">#</a></h2>
<p>Plusieurs raisons :</p>
<ul>
<li>Il n'est plus possible d'extraire le CSV directement depuis la chaudière. Les fichiers sont maintenant directement envoyés sur un stockage externe géré oekofen (ou un préstataire)</li>
<li>Il faut donc mettre en place une application web disponible sur internet afin que les utilisateurs puissent s'inscrire sans avoir à installer quoi que ce soit (Modele d'application de type SaaS)<ul>
<li>Suite a un POC, je pu constaté que j'etait en capacité de recolté l'ensemble des données de <mark>toutes</mark> les chaudières okofen connectés sur internet sans avoir besoin de l'accord des propriétaire ni du constructeur. Cela pose une question de sécurité du coté d'okofen.</li>
</ul>
</li>
<li>Pour comprendre comment les chaudières fonctionnent à partir de la Version 4, j'ai été obligé de faire du Reverse Ingeniering. Cela veut dire decompiler le Firmware pour lire le code. Ce que j'ai fait. J'ai pu ainsi comprend l'ensemble de l'architecture qu'okofen a mis en place pour recueillir les données de toutes les chaudières, et proposer leurs services aux travers de my.okofen.info<ul>
<li>En faisant cela, <mark>je me met dans l'illegalité</mark>. Car je n'ai pas demandé l'accord d'oekofen de lire leur code source. Donc n'ayant aucun partenariat de developpement avec eux, je ne vais pas passer de du temps personnel pour developper une plateforme SaaS qui se base sur un acte illégale au regard du droit de la propriété</li>
<li>De plus, comme je le disais, il faut que cela soit simple pour que tous les utilisateurs puissent utiliser <code>Okovision</code>. Et au regard des "connexions" qu'il faut faire avec le SI d'oekofen, cela n'est vraiment pas à la porter de tout le monde. D'où mon idée de départ : de le proposer au travers d'une Plateforme / Application SaaS</li>
</ul>
</li>
<li>le modele économique n'est pas viable : En effet, je porterai les coûts d'infrastructure, car il faut mettre en place pas mal de chose pour que cela fonctionne et puisse grandir avec des utilisateurs qui viendrait s'inscrire (même avec un hebergement Cloud type Azure ou AWS). Donc la question est : Les utilisateurs seront-ils pret à payer pour ce service ? je ne crois pas, ou très peu d'entre eux / pas suffissement pour que cela soit viable<ul>
<li>Dois-je passer du temps a developper une toute nouvelle plateforme pour pouvoir inclure les Firmware V4 ? en sachant que le modele économique n'est pas viable et que tout repose sur <mark>un acte illegale au regard du droit de la propriété</mark></li>
</ul>
</li>
</ul>
<p>Au vu de toutes ces raisons, je ne vais pas me lancer dans Okovision V2 bénévolement, car si Okofen décide de faire un developpement de leur coté equivalent à okovision, changer l'architecture logicielle, changer les mots de passe, plus rien de marchera. Donc que de temps perdu pour moi.</p>
<p>Pour toutes ces raisons, le developpement d'okovision est arreté dans la version actuelle, car il repond à mon besoin de suivre la consommation de granulée de <mark>ma</mark> chaudière</p>
<p>Merci à tous ceux qui ont participé de prèt et de loin.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Retour en haut de la page
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Build with love by Stawen Dronek
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "content.code.annotate", "navigation.indexes"], "search": "../assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf534bf.min.js"></script>
      
    
  </body>
</html>